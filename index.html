<!DOCTYPE html>
<html>
<head>
  <title>MyChat</title>
  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
          integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
          crossorigin="anonymous"></script>
  <!-- Socket.IO -->
  <script src="/socket.io/socket.io.js"></script>
  <style>
    #msg-board {
        top: 0;
        height: 90%;
        width: 100%;
        position: fixed;   
        overflow-y: auto;
    }

    #msg-board .panel {
      /*height: 96%;*/
      padding: 20px;
      box-shadow: none;
    }

    #msg-board .panel .alert {
      /*min-width: 25%;*/
      max-width: 70%;
      overflow-wrap: normal;
    }

  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="row" id="msg-board" style="">
        <div class="panel">

<!--             
            <div class="my-msg">
              <div class="alert alert-info" style="width: 25%">
                Hi!
              </div>
              <div class="clearfix"></div>              
            </div>

            <div class="his-msg">
              <div class="alert alert-warning" style="width: 25%">
                Hello :)
              </div>              
            </div>

 -->

        </div>
    </div>
    <div class="row" style="
    bottom: 0;
    width: 100%;
    position: fixed;">
        <form>
          <div class="col-md-11 col-sm-11 col-xs-10" style="padding: 0">
            <input type="text"
                   class="form-control"
                   name="msg_box"
                   id="msg-box"
                   style="width: 100%; height: 50px">                   
          </div>
          <div class="col-md-1 col-sm-1 col-xs-2" style="padding: 0">
            <button type="button"
              class="btn btn-warning"
             style="width: 100%; height: 50px">Stop</button>            
            
          </div>
        </form>
    </div>
  </div>

  <script>
    
      $(function () {
        var socket = io();

        // private messaging
        $('form').submit(function(){
          var msg_txt = $('#msg-box').val();
          if(msg_txt.trim().length < 1)
            return false;
          //send msg to server
          //socket.emit('chat message', $('#m').val());
          //create a right callout for the message
          $('#msg-board .panel').append(
            $('<div>').addClass('msg')
                      .append(
                        $('<div>').addClass('alert alert-info pull-right')
                                  .text(msg_txt)
                      )
                      .append($('<div>').addClass('clearfix'))
          );

          var msg = document.querySelectorAll('.msg');

          //scroll to new message
          msg[msg.length-1].scrollIntoView({ 
            behavior: 'smooth' 
          });

          //empty the input
          $('#msg-box').val('');

          return false;
        });

        socket.on('chat message', function(msg){
          $('#messages').append($('<li>').text(msg));
        });

      });
  </script>
</body>

</html>